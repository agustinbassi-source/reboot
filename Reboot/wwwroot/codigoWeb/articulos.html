<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Buscador de articulos</title>
</head>
<body style="font-family: Arial">


  <input type="text" placeholder="Buscar..." id="txtBuscar" onkeyup="buscarArticulos()"  /> 
  <!--<input type="button" value="Buscar" />-->
  <hr />
  <div id="misArticulos">Resultado de la busqueda</div>


  <script type="text/javascript">

    const buscarArticulos = async () => {

      let textoBuscar = document.getElementById('txtBuscar').value;

      if (textoBuscar.length < 3) {
        return;
      }

      let url = 'http://localhost:5111/api/ArticuloFerreterias/BuscarArticulos/' + textoBuscar;

      let dataResponse;

      await fetch(url)
        .then((response) => response.json())
        .then((data) => {
          dataResponse = data;
        });

      console.log('api response', dataResponse)

      let miDiv = document.getElementById("misArticulos");

      miDiv.innerHTML = ''

      dataResponse.forEach(articulo => {
        miDiv.innerHTML += articulo.nombreDeArticulo + "<br/>";
      })

    }
     

  </script>


</body>
</html>